extends ../../layouts/default.pug
include ../../mixins/Alert.pug

block main 
    +Alert-error(5000)
    +Alert-success(5000)
    h1(class="mb-4") Chỉnh sửa sản phẩm

    //- Form thêm sản phẩm
    form(
        action=`${prefixAdmin}/products/edit?_mehtod=PATCH`
        method="POST" 
        enctype="multipart/form-data"
        id = "form-edit-products"
    )
      div(class="form-group")
        label(for="title") Tên sản phẩm
        input(type="text" class="form-control" id="title" name="title" placeholder="Nhập tên sản phẩm" required value=product.title)

      div(class="form-group")
        label(for="description") Mô tả
        textarea(class="form-control" id="description" name="description" rows="3" placeholder="Nhập mô tả sản phẩm") #{product.description}

      div(class="form-group")
        label(for="price") Giá
        input(type="number" class="form-control" id="price" name="price" placeholder="Nhập giá" min="0" step="0.01" required value=product.price)

      div(class="form-group")
        label(for="discountPercentage") Giảm giá (%)
        input(type="number" class="form-control" id="discountPercentage" name="discountPercentage" placeholder="Nhập % giảm giá" min="0" max="100" value=product.discountPercentage) 

      div(class="form-group")
        label(for="stock") Số lượng 
        input(type="number" class="form-control" id="stock" name="stock" min="0" value=product.stock)

      div(class="form-group" upload-image)
        label(for="thumbnail") Ảnh
        input(type="file" class="form-control-file" id="thumbnail" name="thumbnail" accept="image/*" upload-image-input)
        img(src=product.thumbnail upload-image-preview class="image-preview")
        button() x
      div(class="form-group")
        label(for="position") Vị trí
        input(type="number" class="form-control" id="position" name="position" placeholder="Tự động tăng" min="1" value=product.position)

      div(class="form-group form-check form-check-inline")
        input(
            type="radio"
            class="form-check-input"
            id="statusActive"
            name="status"
            value="active"
            checked = (product.status == "active" ? true : false) 
        )
        label(for="statusActive" class="form-check-label") Hoạt động
      div(class="form-group form-check form-check-inline")
        input(
            type="radio"
            class="form-check-input"
            id="statusInactive"
            name="status"
            value="inactive"
            checked = (product.status == "inactive" ? true : false) 
        )
        label(for="statusInactive" class="form-check-label") Không hoạt động 

      button(type="submit" class="btn btn-primary mt-3") Sửa sản phẩm


    script(src="/admin/js-frontend/product.js") 